function renderPopupManagerSummary (parent, managerName, year) {
    const wrapper = document.getElementById(parent);

    const managerData = datasetManagerAnalyticsData.find(m => m.managerName === managerName);
    if (!managerData) return;

    const summary = managerData.summary[year];
    if (!summary) return;

    let popupCompilationContainerSummary = document.createElement("div");
    popupCompilationContainerSummary.id = "compilationContainerSummary";
    wrapper.appendChild(popupCompilationContainerSummary);

    let managerImgContainer = document.createElement("div");
    managerImgContainer.id = "managerImgContainer";
    managerImgContainer.innerHTML = `
        <img class="managerPic" src="${managerData.managerImg}"></img>
    `;
    popupCompilationContainerSummary.appendChild(managerImgContainer);

    const totalGigs = summary.totalGigs;
    const unicDjs = summary.unicDjs;
    const totalAttendees = summary.totalAttendees;
    const totalEarnings = summary.totalEarnings;
    // Hitta managern med h√∂gst int√§kter f√∂r det valda √•ret
    const maxEarningsData = datasetManagerAnalyticsData.reduce((max, manager) => {
        const earnings = manager.summary[year]?.totalEarnings || 0;
        if (earnings > max.earnings) {
            return { name: manager.managerName, earnings };
        }
        return max;
    }, { name: null, earnings: 0 });
    
    let managerContent = document.createElement("div");
    managerContent.id = "managerContent";
    managerContent.innerHTML = `
    <h2 class="managerNameText">${managerData.managerName}</h2>
    <p class="personalInfo">K√∂n: ${managerData.managerGender}</p>
    <p class="personalInfo">Etnicitet: ${managerData.managerEthnicity}</p>
    <p class="personalInfo">√Ölder: ${managerData.managerAge}</p>
    
    <div class="borderLine"></div>
    
    <p class="managerStats">üéµ Gigs bokade: ${totalGigs}</p>
    <p class="managerStats">üí∞ Totala int√§kter: ${totalEarnings} SEK</p>
    <p class="managerStats">üé§ DJs bokade: ${unicDjs}</p>
    <p class="managerStats">üë• Total publik: ${totalAttendees}</p>
    <p class="managerStats">‚öñÔ∏è Genomsnittlig inkomst/gig: ${totalGigs === 0 ? 0 : (totalEarnings / totalGigs).toFixed(0)} SEK</p>
    `;

    popupCompilationContainerSummary.appendChild(managerContent);

    
    let yearTextContainer = document.createElement("div");
    yearTextContainer.id = "yearTextContainer";
    yearTextContainer.innerHTML = `
        <h2 class="yearText">${year}</h2>
    `;
    popupCompilationContainerSummary.appendChild(yearTextContainer);

    if (managerData.managerName === maxEarningsData.name) {
        yearTextContainer.innerHTML += `
            <div class="trophy">
                <svg xmlns="http://www.w3.org/2000/svg" width="85" height="93" viewBox="0 0 85 93" fill="none">
                    <path d="M45.2873 22.5026C46.28 22.9524 46.9271 24.0121 46.9271 25.1876V40.6876C46.9271 42.2926 45.7378 43.5938 44.2708 43.5938C42.8039 43.5938 41.6146 42.2926 41.6146 40.6876V32.2039L40.8365 33.0551C39.7991 34.1901 38.1175 34.1901 37.0802 33.0551C36.0428 31.9201 36.0428 30.08 37.0802 28.9451L42.3927 23.1326C43.1524 22.3014 44.2949 22.0527 45.2873 22.5026Z" fill="url(#paint0_linear_122_160)"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M26.5568 6.22786C30.6754 5.46759 36.0273 4.84375 42.5007 4.84375C48.9738 4.84375 54.3256 5.46759 58.4442 6.22786L58.922 6.31559C62.4998 6.97085 65.4734 7.51552 67.7988 10.6488C69.2902 12.6584 69.7712 14.8301 69.882 17.2563L71.6235 17.8913C73.2636 18.4894 74.7012 19.0137 75.842 19.5942C77.0748 20.2218 78.205 21.0302 79.0688 22.3415C79.9326 23.6528 80.2761 25.0814 80.4302 26.5597C80.5729 27.9272 80.5729 29.5852 80.5726 31.4769V32.0396C80.5726 33.5965 80.5729 34.9718 80.4677 36.1219C80.3537 37.3685 80.1015 38.5803 79.4718 39.7513C78.8421 40.9227 77.9964 41.7523 77.0557 42.4665C76.1876 43.1256 75.089 43.7933 73.8448 44.5493L64.4927 50.2343C62.5823 54.3469 59.9576 58.0138 56.3483 60.6624C53.2504 62.9354 49.5412 64.3746 45.1563 64.785V72.6562H50.2215C53.176 72.6562 55.7196 74.9379 56.299 78.1076L57.0736 82.3438H63.75C65.217 82.3438 66.4062 83.645 66.4062 85.25C66.4062 86.855 65.217 88.1562 63.75 88.1562H21.25C19.783 88.1562 18.5938 86.855 18.5938 85.25C18.5938 83.645 19.783 82.3438 21.25 82.3438H27.9266L28.7009 78.1076C29.2803 74.9379 31.8241 72.6562 34.7785 72.6562H39.8438V64.785C35.4592 64.3742 31.7503 62.9354 28.6527 60.6624C25.0437 58.0138 22.4194 54.3476 20.509 50.2355L11.1549 44.5493C9.91086 43.7933 8.81213 43.1256 7.94421 42.4665C7.00357 41.7523 6.15779 40.9227 5.52794 39.7513C4.89809 38.5803 4.64596 37.3685 4.53209 36.1219C4.42705 34.9718 4.42708 33.5966 4.42712 32.0395L4.42708 31.4768C4.42694 29.5852 4.4268 27.9272 4.56946 26.5597C4.7237 25.0814 5.06727 23.6528 5.93109 22.3415C6.79494 21.0302 7.9249 20.2218 9.15794 19.5942C10.2985 19.0137 11.7361 18.4894 13.3764 17.8913L15.1191 17.2558C15.23 14.8299 15.7111 12.6582 17.2023 10.6488C19.5275 7.51552 22.5014 6.97085 26.0792 6.31559L26.5568 6.22786ZM33.3443 82.3438H51.6559L51.0896 79.2476C51.0071 78.7946 50.6437 78.4688 50.2215 78.4688H34.7785C34.3564 78.4688 33.9931 78.7946 33.9103 79.2476L33.3443 82.3438ZM15.2366 23.3398C15.4901 29.231 16.0983 35.7421 17.6126 41.8256L13.8383 39.5312C12.4601 38.6935 11.5971 38.1651 10.9731 37.6913C10.3979 37.2545 10.2106 36.997 10.1066 36.8037C10.0027 36.6105 9.88787 36.3062 9.81824 35.5439C9.74273 34.7171 9.73965 33.6351 9.73962 31.91V31.629C9.73955 29.54 9.74351 28.2174 9.84771 27.2189C9.94411 26.2946 10.1019 25.951 10.2409 25.7401C10.3798 25.5292 10.6278 25.2567 11.3987 24.8643C12.2316 24.4404 13.3772 24.018 15.1884 23.3574L15.2366 23.3398ZM67.3887 41.8244L71.1616 39.5312C72.5397 38.6935 73.4028 38.1651 74.0265 37.6913C74.602 37.2545 74.7894 36.997 74.8931 36.8037C74.9973 36.6105 75.112 36.3062 75.1814 35.5439C75.2572 34.7171 75.2601 33.6351 75.2601 31.91V31.629C75.2604 29.54 75.2562 28.2174 75.152 27.2189C75.0557 26.2946 74.8977 25.951 74.7589 25.7401C74.6201 25.5292 74.3718 25.2567 73.6011 24.8643C72.7681 24.4404 71.6228 24.018 69.8116 23.3574L69.7645 23.3403C69.5109 29.231 68.9028 35.7416 67.3887 41.8244ZM42.5007 10.6562C36.3403 10.6562 31.2842 11.2499 27.4407 11.9594C23.1662 12.7484 22.2683 13.0436 21.3265 14.3126C20.3984 15.5632 20.3103 16.746 20.5009 21.9973C20.8184 30.7496 21.8737 40.1942 25.1417 47.3773C26.7549 50.9229 28.864 53.8187 31.6118 55.8349C34.342 57.8386 37.8643 59.0938 42.5007 59.0938C47.1368 59.0938 50.6589 57.8386 53.3892 55.8349C56.1372 53.8187 58.2463 50.9229 59.8595 47.3773C63.1274 40.1942 64.1828 30.7496 64.5001 21.9973C64.6907 16.746 64.6025 15.5632 63.6746 14.3126C62.7328 13.0436 61.835 12.7484 57.5606 11.9594C53.7168 11.2499 48.6607 10.6562 42.5007 10.6562Z" fill="url(#paint1_linear_122_160)"/>
                    <defs>
                        <linearGradient id="paint0_linear_122_160" x1="42.5" y1="4.8438" x2="42.5" y2="88.1563" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#8A2697"/>
                        <stop offset="1" stop-color="#06FFFF"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_122_160" x1="42.5" y1="4.84375" x2="42.5" y2="88.1562" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#8A2697"/>
                        <stop offset="1" stop-color="#06FFFF"/>
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <p class="highestIncomeYear">*H√∂gst int√§kter<br>detta √•ret</p>
        `;
    }

    let closePopupButton = document.createElement("div");
    closePopupButton.id = "closeButtonSummary";
    closePopupButton.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 37 37" fill="none">
            <path d="M25.2802 11.7198C25.1103 11.5485 24.9082 11.4126 24.6855 11.3198C24.4628 11.227 24.2239 11.1792 23.9826 11.1792C23.7414 11.1792 23.5025 11.227 23.2798 11.3198C23.0571 11.4126 22.855 11.5485 22.6851 11.7198L18.5 15.9232L14.3149 11.7198C13.9708 11.3757 13.504 11.1824 13.0174 11.1824C12.5307 11.1824 12.0639 11.3757 11.7198 11.7198C11.3757 12.0639 11.1824 12.5307 11.1824 13.0174C11.1824 13.504 11.3757 13.9708 11.7198 14.3149L15.9232 18.5L11.7198 22.6851C11.5485 22.855 11.4126 23.0571 11.3198 23.2798C11.227 23.5025 11.1792 23.7414 11.1792 23.9826C11.1792 24.2239 11.227 24.4628 11.3198 24.6855C11.4126 24.9082 11.5485 25.1103 11.7198 25.2802C11.8897 25.4515 12.0918 25.5874 12.3145 25.6802C12.5372 25.773 12.7761 25.8208 13.0174 25.8208C13.2586 25.8208 13.4975 25.773 13.7202 25.6802C13.9429 25.5874 14.145 25.4515 14.3149 25.2802L18.5 21.0768L22.6851 25.2802C22.855 25.4515 23.0571 25.5874 23.2798 25.6802C23.5025 25.773 23.7414 25.8208 23.9826 25.8208C24.2239 25.8208 24.4628 25.773 24.6855 25.6802C24.9082 25.5874 25.1103 25.4515 25.2802 25.2802C25.4515 25.1103 25.5874 24.9082 25.6802 24.6855C25.773 24.4628 25.8208 24.2239 25.8208 23.9826C25.8208 23.7414 25.773 23.5025 25.6802 23.2798C25.5874 23.0571 25.4515 22.855 25.2802 22.6851L21.0768 18.5L25.2802 14.3149C25.4515 14.145 25.5874 13.9429 25.6802 13.7202C25.773 13.4975 25.8208 13.2586 25.8208 13.0174C25.8208 12.7761 25.773 12.5372 25.6802 12.3145C25.5874 12.0918 25.4515 11.8897 25.2802 11.7198ZM31.4207 5.57927C29.7349 3.83378 27.7183 2.44152 25.4886 1.48372C23.2589 0.525927 20.8608 0.0217765 18.4342 0.000690021C16.0076 -0.0203965 13.6011 0.442003 11.3551 1.36091C9.10916 2.27981 7.06868 3.63682 5.35275 5.35275C3.63682 7.06868 2.27981 9.10916 1.36091 11.3551C0.442003 13.6011 -0.0203965 16.0076 0.000690021 18.4342C0.0217765 20.8608 0.525927 23.2589 1.48372 25.4886C2.44152 27.7183 3.83378 29.7349 5.57927 31.4207C7.26512 33.1662 9.28172 34.5585 11.5114 35.5163C13.7411 36.4741 16.1392 36.9782 18.5658 36.9993C20.9924 37.0204 23.3989 36.558 25.6448 35.6391C27.8908 34.7202 29.9313 33.3632 31.6473 31.6473C33.3632 29.9313 34.7202 27.8908 35.6391 25.6448C36.558 23.3989 37.0204 20.9924 36.9993 18.5658C36.9782 16.1392 36.4741 13.7411 35.5163 11.5114C34.5585 9.28172 33.1662 7.26512 31.4207 5.57927ZM28.8439 28.8439C26.4535 31.2369 23.3074 32.7271 19.9416 33.0606C16.5757 33.3941 13.1983 32.5503 10.3848 30.6728C7.57136 28.7954 5.49586 26.0006 4.51194 22.7645C3.52802 19.5285 3.69655 16.0513 4.98882 12.9256C6.28109 9.79985 8.61715 7.21885 11.599 5.62233C14.5808 4.02582 18.024 3.51256 21.3418 4.17C24.6597 4.82745 27.6469 6.61493 29.7947 9.22789C31.9424 11.8409 33.1177 15.1177 33.1203 18.5C33.1269 20.4213 32.7523 22.3248 32.0182 24.1003C31.2842 25.8758 30.2052 27.4881 28.8439 28.8439Z" fill="#F8F8F8"/>
        </svg>
    `;
    popupCompilationContainerSummary.appendChild(closePopupButton);

    closePopupButton.addEventListener("click", () => {
        document.getElementById("wrapper").classList.remove("blur");
        document.body.classList.remove("noScroll");
        popupCompilationContainerSummary.remove();
    });
}